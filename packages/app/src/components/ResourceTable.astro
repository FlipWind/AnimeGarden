---
import type { Resource } from 'animegarden';

import { formatInTimeZone } from 'date-fns-tz';

export interface Props {
  resources: Resource[];
}

const { resources } = Astro.props;
---

<table class="resources-table border-collapse">
  <thead class="resources-table-head text-lg border-t border-b border-b-2">
    <tr class="">
      <th class="py3 w-[160px]">上传时间</th>
      <th class="py3">类型</th>
      <th class="py3">标题</th>
      <th class="py3 w-[128px] text-left px2">下载</th>
    </tr>
  </thead>
  <tbody class="resources-table-body divide-y border-b text-sm"
    >{
      resources.map((r) => (
        <tr class="">
          <td class="py2 text-center">
            {formatInTimeZone(new Date(r.createdAt), 'Asia/Shanghai', 'yyyy-MM-dd HH:mm')}
          </td>
          <td class="py2 px2 text-center text-base-600">{r.type}</td>
          <td class="py2 pl2">
            <a href={r.href} target="_blank" class="text-link">
              {r.title}
            </a>
          </td>
          <td class="py2 pl2">
            <div class="flex gap1 items-center justify-start">
              <a
                href={r.magnet}
                class="i-carbon-download text-xl text-base-500 hover:text-base-900"
              />
              <span class="text-xs text-base-400">{r.size}</span>
            </div>
          </td>
        </tr>
      ))
    }</tbody
  >
  <tfoot></tfoot>
</table>
